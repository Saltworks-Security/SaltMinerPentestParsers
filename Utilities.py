# Copyright (C) Saltworks Security, LLC - All Rights Reserved
# Unauthorized copying of this file, via any medium is strictly prohibited
# Proprietary and confidential
# Written by Saltworks Security, LLC (www.saltworks.io) , 2024

import json
import xmltodict


class Utilities(object):

    def __init__(self, classInstance) -> None:
        self.classInstance = classInstance

    def formatXMLFile(self, isTemplate= False):
        with open(self.classInstance.filePath, 'r') as file:
            data = file.read()
            fileDict =xmltodict.parse(data)

            self.classInstance.fileJson = json.dumps(fileDict, indent=4)

    def formatJSONFile(self, isTemplate= False):
        with open(self.classInstance.filePath) as file:
            data = json.load(file)
            self.classInstance.fileJson = data

    def appendIssue(self, template):
        self.classInstance.issueImport.append(template)